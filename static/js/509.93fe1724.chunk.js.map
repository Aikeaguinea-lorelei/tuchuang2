{"version":3,"file":"static/js/509.93fe1724.chunk.js","mappings":"oQAOMA,EAAIC,EAAAA,GAAAA,IAAD,kHA8DT,GAvDgBC,EAAAA,EAAAA,KAAS,WACrB,IAAQC,GAAeC,EAAAA,EAAAA,KAAfD,aACFE,EAAKF,EAAaG,OAExBC,EAAAA,EAAAA,YAAU,WAIN,OAFAJ,EAAaK,OAEP,WACFL,EAAaM,OAChB,CACJ,GAAE,IAIH,OACI,0BACI,SAAC,IAAD,CACIC,WAAYL,EACZM,aAAa,EACbC,UAAW,EACXC,SATG,WACXV,EAAaK,MAChB,EAQWM,SAAUX,EAAaY,WAAaZ,EAAaW,QACjDE,WAAW,EANf,UAQI,SAAC,KAAD,CACIC,WAAYd,EAAae,KACzBC,WAEI,SAAAC,GACI,OAAO,UAAC,UAAD,YACH,0BACI,SAACpB,EAAD,CAAKqB,IAAKD,EAAKE,WAAWC,IAAID,WAAWC,SAE7C,0BACI,wBAAKH,EAAKE,WAAWE,cAEzB,0BACI,cAAGC,OAAO,SAASC,KAAMN,EAAKE,WAAWC,IAAID,WAAWC,IAAxD,SAA8DH,EAAKE,WAAWC,IAAID,WAAWC,UAR9EH,EAAKO,GAW/B,EAhBT,SAmBKxB,EAAaY,WAAaZ,EAAaW,UACpC,0BACI,SAAC,IAAD,CAAMc,IAAI,8BAOrC,ICvDD,MATA,WACI,OACI,iCACI,qCACA,SAACC,EAAD,MAGX,C","sources":["components/List.js","pages/History.js"],"sourcesContent":["import React, { useEffect } from 'react'\r\nimport { observer } from 'mobx-react'\r\nimport { useStores } from '../stores'\r\nimport InfiniteScroll from 'react-infinite-scroll-component';\r\nimport { List, Spin } from 'antd'\r\nimport styled from 'styled-components'\r\n\r\nconst Img=styled.img`\r\n    width:100px;\r\n    height:120px;\r\n    object-fit:contain;\r\n    border:1px solid #eee;\r\n`\r\n\r\nconst Component=observer(()=>{\r\n    const { HistoryStore }=useStores()\r\n    const data=HistoryStore.limit\r\n    // 请求: 获取历史数据(只执行一次)\r\n    useEffect(() => {\r\n        // 进入页面时: 加载\r\n        HistoryStore.find()\r\n        // 离开页面时: 重置\r\n        return()=>{\r\n            HistoryStore.reset()\r\n        }\r\n    }, [])\r\n    const loadMore=()=>{\r\n        HistoryStore.find()\r\n    }\r\n    return (\r\n        <div>\r\n            <InfiniteScroll\r\n                dataLength={data}\r\n                initialLoad={true}\r\n                pageStart={0}\r\n                loadMore={loadMore}\r\n                hasMore={!HistoryStore.isLoading && HistoryStore.hasMore}\r\n                useWindow={false}\r\n            >\r\n                <List\r\n                    dataSource={HistoryStore.list}\r\n                    renderItem={\r\n                        // 遍历item\r\n                        item=>{\r\n                            return <List.Item key={item.id}>\r\n                                <div>\r\n                                    <Img src={item.attributes.url.attributes.url}/>\r\n                                </div>\r\n                                <div>\r\n                                    <h5>{item.attributes.filename}</h5>\r\n                                </div>\r\n                                <div>\r\n                                    <a target=\"_blank\" herf={item.attributes.url.attributes.url}>{item.attributes.url.attributes.url}</a>\r\n                                </div>\r\n                            </List.Item>\r\n                        }\r\n                    }\r\n                >\r\n                    {HistoryStore.isLoading && HistoryStore.hasMore && (\r\n                        <div>\r\n                            <Spin tip=\"加载中\"/>\r\n                        </div>\r\n                    )}\r\n                </List>\r\n            </InfiniteScroll>\r\n        </div>\r\n    )\r\n})\r\n\r\nexport default Component","import React from 'react'\r\nimport List from '../components/List'\r\n\r\nfunction History(){\r\n    return (\r\n        <>\r\n            <h1>History</h1>\r\n            <List/>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default History"],"names":["Img","styled","observer","HistoryStore","useStores","data","limit","useEffect","find","reset","dataLength","initialLoad","pageStart","loadMore","hasMore","isLoading","useWindow","dataSource","list","renderItem","item","src","attributes","url","filename","target","herf","id","tip","List"],"sourceRoot":""}